<div class="container">
  <div class="app-logo">
    <img src = "../assets/logo.png">
  </div>

  <div>
    <h3>your organizational hive</h3>
  </div>

  <div class="form">
    <h3>Log In</h3>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div>
        <label for="email"></label>
        <input
          type="email"
          formControlName="email"
          placeholder="Email Address"/>
          @if(emailControl.invalid && emailControl.touched){
            <div class="inc">
                @if(emailControl.errors?.['required']){
                    <div>Email is Required.</div>
                }
                @if(emailControl.errors?.['email']){
                    <div>Invalid Email format.</div>
                }
            </div>
          }
      </div>

      <div>
        <label for="password"></label>
        <input
          type="password"
          formControlName="password"
          placeholder="Password"/>
          @if(passwordControl.invalid && passwordControl.touched){
            <div class="inc">
                @if(passwordControl.errors?.['required']){
                    <div>Password is Required.</div>
                }
            </div>
          }
      </div>

      <button type="submit">Log In to OrgBee</button>

      <h4>
        Don't have an account?
        <a href="#" (click)="showSignupPopup()">Sign up</a>
      </h4>
    </form>
  </div>
</div>

<!-- Signup Popup -->
@if(showSignup){
  <div class="popup">
    <div class="popup-content">
      <span class="close" (click)="hideSignupPopup()">&times;</span>
  
      <h3>Sign Up</h3>
  
      <div class="signup-form">
        <form [formGroup]="signupForm" (ngSubmit)="onSignupSubmit()">
          <div class="form-row">
            <div>
              <label for="signup-firstname">First Name</label>
              <input type="text" formControlName="firstName" />
              @if(firstNameControl.invalid && firstNameControl.touched){
                <div class="inc">
                    @if(firstNameControl.errors?.['required']){
                        <div>First name is required</div>
                    }
                </div>
              }
            </div>
  
            <div>
              <label for="signup-lastname">Last Name</label>
              <input type="text" formControlName="lastName" />
              @if(lastNameControl.invalid && lastNameControl.touched){
                <div class="inc">
                    @if(lastNameControl.errors?.['required']){
                        <div>Last name is required</div>
                    }
                </div>
              }
            </div>
          </div>
  
          <div class="form-row">
            <div>
              <label for="signup-studentnumber">Student Number</label>
              <input type="text" formControlName="studentNumber" />
              @if(studentNumberControl.invalid && studentNumberControl.touched){
                <div class="inc">
                    @if(studentNumberControl.errors?.['required']){
                        <div>Student number is required</div>
                    }
                </div>
              }
            </div>
  
            <div>
              <label for="signup-email">Email</label>
              <input type="email" formControlName="email" />
              @if(signUpEmailControl.invalid && signUpEmailControl.touched){
                <div class="inc">
                    @if(signUpEmailControl.errors?.['required']){
                        <div>Email is Required.</div>
                    }
                    @if(signUpEmailControl.errors?.['email']){
                        <div>Invalid Email format.</div>
                    }
                </div>
                }
            </div>
          </div>
  
          <div class="form-row">
            <div>
              <label for="signup-bday">Birthday</label>
              <input type="date" formControlName="bday" />
              @if(bdayControl.invalid && bdayControl.touched){
                <div class="inc">
                    @if(bdayControl.errors?.['required']){
                        <div>Birth date is required</div>
                    }
                </div>
              }
            </div>
  
            <div>
              <label for="signup-gender">Gender</label>
              <select formControlName="gender">
                <option value="" disabled selected>Select your gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
              @if(genderControl.invalid && genderControl.touched){
                <div class="inc">
                    @if(genderControl.errors?.['required']){
                        <div>Gender is required</div>
                    }
                </div>
              }
            </div>
          </div>
  
          <div class="form-row">
            <div>
              <label for="signup-password">Password</label>
              <input type="password" formControlName="password" minlength="8"/>
              @if(signUpPasswordControl.invalid && signUpPasswordControl.touched){
                <div class="inc">
                    @if(signUpPasswordControl.errors?.['required']){
                        <div>Password is Required.</div>
                    }
                    @if(signUpPasswordControl.errors?.['minlength']){
                        <div>Password must be 8 characters long</div>
                    }
                </div>
                }
            </div>
  
            <div>
              <label for="signup-confirm-password">Confirm Password</label>
              <input type="password" formControlName="confirmPassword" />
              @if(confirmPassControl.invalid && confirmPassControl.touched){
                <div class="inc">
                    @if(confirmPassControl.errors?.['required']){
                        <div>Please confirm your password</div>
                    }
                    @if(confirmPassControl.getError('mustMatch')){
                        <div>Password not matching</div>
                    }
                </div>
                }
            </div>
          </div>
  
          <button type="submit">Sign Up</button>
  
        </form>
      </div>
    </div>
  </div>    
}
